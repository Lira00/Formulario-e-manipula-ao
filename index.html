<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulario</title>
  </head>
  <body>
    <h1>Formulário</h1>
    <form>
      <fieldset>
        <legend>Dados pessoais</legend>
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required />
        <br />
        <br />
        <label for="endereco">Endereço:</label>
        <input type="text" id="endereco" name="endereco" required />
        <br />
        <br />
        <label for="cidade">Cidade:</label>
        <input type="text" id="cidade" name="cidade" required />
        <br />
        <br />
        <label for="estado">Estado:</label>
        <select name="estado" id="estado">
          <option value="AC">Acre</option>
          <option value="AL">Alagoas</option>
          <option value="AP">Amapá</option>
          <option value="AM">Amazonas</option>
          <option value="BA">Bahia</option>
          <option value="CE">Ceará</option>
          <option value="DF">Distrito Federal</option>
          <option value="ES">Espírito Santo</option>
          <option value="GO">Goiás</option>
          <option value="MA">Maranhão</option>
          <option value="MT">Mato Grosso</option>
          <option value="MS">Mato Grosso do Sul</option>
          <option value="MG">Minas Gerais</option>
          <option value="PA">Pará</option>
        </select>
      </fieldset>
      <fieldset>
        <legend>Dados profissionais</legend>
        <label><b>Natureza de Cargo</b></label>
        <br />
        <input type="radio" name="cargo" value="Gerência" checked /> Gerência

        <input type="radio" name="cargo" value="Financeiro" />Financeiro

        <input type="radio" name="cargo" value="Recepção" />Recepção

        <input type="radio" name="cargo" value="Administrativo" />Administrativo

        <input type="radio" name="cargo" value="Juridico" />Juridico

        <br />
        <br />
        <label><b>Área de interesse</b></label>
        <br />

        <input type="checkbox" value="Computação" checked />Computação

        <input type="checkbox" value="Biologia" />Biologia

        <input type="checkbox" value="Meio Ambiente" />Meio Ambiente

        <input type="checkbox" value="Engenharia" />Engenharia

        <input type="checkbox" value="História" />História

        <br />
        <br />
        <br />

        <label for=""> Mini-curriculo</label>
        <textarea
          name="curriculo"
          id="curriculo"
          cols="30"
          rows="10"
        ></textarea>
      </fieldset>
      <input type="submit" id="enviat_btn" value="Enviar" />
      <input type="reset" id="reset_btn" value="Limpar" onreset="reset()" />
    </form>
    <script>
      const form = document.querySelector("form");
      const nome = document.querySelector("#nome");
      const endereco = document.querySelector("#endereco");
      const cidade = document.querySelector("#cidade");
      const estado = document.querySelector("select");
      const cargos = document.querySelectorAll("input[name=cargo]");
      const areas = document.querySelectorAll("input[type=checkbox]");
      const curriculo = document.querySelector("textarea[name=curriculo]");

      var areaSelecionada = false;

      function validarCheckbox() {
        areas.forEach((area) => {
          if (area.checked) {
            areaSelecionada = true;
          }
        });

        if (!areaSelecionada) {
          alert("Por favor, seleciona pelo menos uma área de interesse.");
        } else {
          getValue();
        }
      }

      function reset() {
        nome.value = "";
        endereco.value = "";
        cidade.value = "";
        curriculo.value = "";
        areaSelecionada = false;
        checkboxes.forEach((checkbox) => {
          checkboxes.set;
        });
      }

      function getValue() {
        var cargoSelecionado;
        var areasDeInteresse = [];

        cargos.forEach((cargo) => {
          if (cargo.checked) {
            cargoSelecionado = cargo.value;
          }
        });

        areas.forEach((area) => {
          if (area.checked) {
            areasDeInteresse.push(area.value);
          }
        });

        const usuario = {
          nome: nome.value,
          endereco: endereco.value,
          cidade: cidade.value,
          estado: estado.value,
          cargo: cargoSelecionado,
          areas: [],
          curriculo: curriculo.value,
        };

        usuario.areas.push(areasDeInteresse);

        console.log(usuario);
      }

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        validarCheckbox();
      });
    </script>
  </body>
</html>
